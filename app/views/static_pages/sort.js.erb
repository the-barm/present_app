var animate_swap = function(i, j, elem_1, elem_2) {
    $('#color-'+(i+1))
      .queue(function (next) { 
        $(this).slideUp(300).delay(300).css("background-color", '#'+elem_1).slideDown(300);
        next(); 
        });
    $('#color-'+(j+1))
      .queue(function (next) { 
        $(this).slideUp(300).delay(300).css("background-color", '#'+elem_2).slideDown(300);
        next(); 
        });
};


$(function() {
  var colors = [];
  for (var i = 0; i < 9; i++) {
    colors[i] = $('#color-'+(i+1)).css("background-color").match(/\d+/g);
    colors[i] = Number(colors[i][0]).toString(16) + 
      Number(colors[i][1]).toString(16) + Number(colors[i][2]).toString(16);
      
  };
  var tmp;
  for (var i = colors.length - 1; i > 0; i--) {
        for (var j = 0; j < i; j++) {
            if (colors[j] > colors[j+1]) {
                tmp = colors[j];
                colors[j] = colors[j+1];
                colors[j+1] = tmp;
                setTimeout(animate_swap(j, j+1, colors[j], tmp), 1800);
            }
        }
    }
    
  
});

